<!doctype html><html lang=de><head><title>· Zyria</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Fabrice Kirchner"><meta name=description content='
  Snippets
  
    
    Link zu Überschrift
  


  Raid löschen
  
    
    Link zu Überschrift
  

1mdadm --stop /dev/md0
2for i in "0" "1"; do  mdadm --zero-superblock /dev/nvme"$i"n1; done

  Raid erstellen
  
    
    Link zu Überschrift
  

1yes | mdadm --create -n 2 -l 1 /dev/md0 /dev/nvme[01]n1p1

  Partition mit ext4 formatieren
  
    
    Link zu Überschrift
  


mkfs.ext4 /dev/md0
oder

yes | mkfs.ext4 -L boot /dev/md0
Swap:

mkswap -f /dev/vg-name/swap'><meta name=keywords content="[blog personal]"><meta name=twitter:card content="summary"><meta name=twitter:title content="Zyria"><meta name=twitter:description content='Snippets Link zu Überschrift Raid löschen Link zu Überschrift 1mdadm --stop /dev/md0 2for i in "0" "1"; do mdadm --zero-superblock /dev/nvme"$i"n1; done Raid erstellen Link zu Überschrift 1yes | mdadm --create -n 2 -l 1 /dev/md0 /dev/nvme[01]n1p1 Partition mit ext4 formatieren Link zu Überschrift mkfs.ext4 /dev/md0
oder
yes | mkfs.ext4 -L boot /dev/md0
Swap:
mkswap -f /dev/vg-name/swap'><meta property="og:url" content="https://zyria.de/docs/it-intern/sammelbecken/snippets/"><meta property="og:site_name" content="Zyria"><meta property="og:title" content="Zyria"><meta property="og:description" content='Snippets Link zu Überschrift Raid löschen Link zu Überschrift 1mdadm --stop /dev/md0 2for i in "0" "1"; do mdadm --zero-superblock /dev/nvme"$i"n1; done Raid erstellen Link zu Überschrift 1yes | mdadm --create -n 2 -l 1 /dev/md0 /dev/nvme[01]n1p1 Partition mit ext4 formatieren Link zu Überschrift mkfs.ext4 /dev/md0
oder
yes | mkfs.ext4 -L boot /dev/md0
Swap:
mkswap -f /dev/vg-name/swap'><meta property="og:locale" content="de_de"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2025-05-13T19:00:32+02:00"><link rel=canonical href=https://zyria.de/docs/it-intern/sammelbecken/snippets/><link rel=preload href=/fonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.d4ceffed3c46f343284e82f8229aec7df576d3e818677792dccae1ac7972550f.css integrity="sha256-1M7/7TxG80MoToL4IprsffV20+gYZ3eS3MrhrHlyVQ8=" crossorigin=anonymous media=screen><link rel=stylesheet href="/css/coder-dark.min.ad48f476275974885bdc03d5251e3cdbe1678c54a63ff772376b0ed2adc468dd.css" integrity="sha256-rUj0didZdIhb3APVJR482+FnjFSmP/dyN2sO0q3EaN0=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/images/favicon.svg sizes=any><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href="/site.webmanifest.min.4ef1fd7bf38feef47142065705850163a02bf5e743be48806e160c8c67cb36b6.json" integrity="sha256-TvH9e/OP7vRxQgZXBYUBY6Ar9edDvkiAbhYMjGfLNrY="><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-auto"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=https://zyria.de/>Zyria
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa-solid fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/about/>Über mich</a></li><li class=navigation-item><a class=navigation-link href=/posts/>Beiträge</a></li><li class=navigation-item><a class=navigation-link href=/datenschutz/>Datenschutzerklärung</a></li><li class=navigation-item><a class=navigation-link href=/impressum/>Impressum</a></li><li class=navigation-item><a class="navigation-link external-link" href=https://status.zyria.de>Statusseite</a></li><li class=navigation-item><a class=navigation-link href=/docs/it-intern/>IT interne Dokumentation</a></li></ul></section></nav><div class=content><section class="container page"><article><header><h1 class=title><a class=title-link href=https://zyria.de/docs/it-intern/sammelbecken/snippets/></a></h1></header><h1 id=snippets>Snippets
<a class=heading-link href=#snippets><i class="fa fa-link" aria-hidden=true title="Link zu Überschrift"></i>
<span class=sr-only>Link zu Überschrift</span></a></h1><h2 id=raid-löschen>Raid löschen
<a class=heading-link href=#raid-l%c3%b6schen><i class="fa fa-link" aria-hidden=true title="Link zu Überschrift"></i>
<span class=sr-only>Link zu Überschrift</span></a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=ln>1</span><span class=cl>mdadm --stop /dev/md0
</span></span><span class=line><span class=ln>2</span><span class=cl><span class=k>for</span> i in <span class=s2>&#34;0&#34;</span> <span class=s2>&#34;1&#34;</span><span class=p>;</span> <span class=k>do</span>  mdadm --zero-superblock /dev/nvme<span class=s2>&#34;</span><span class=nv>$i</span><span class=s2>&#34;</span>n1<span class=p>;</span> <span class=k>done</span>
</span></span></code></pre></div><h2 id=raid-erstellen>Raid erstellen
<a class=heading-link href=#raid-erstellen><i class="fa fa-link" aria-hidden=true title="Link zu Überschrift"></i>
<span class=sr-only>Link zu Überschrift</span></a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=ln>1</span><span class=cl>yes <span class=p>|</span> mdadm --create -n <span class=m>2</span> -l <span class=m>1</span> /dev/md0 /dev/nvme<span class=o>[</span>01<span class=o>]</span>n1p1
</span></span></code></pre></div><h2 id=partition-mit-ext4-formatieren>Partition mit ext4 formatieren
<a class=heading-link href=#partition-mit-ext4-formatieren><i class="fa fa-link" aria-hidden=true title="Link zu Überschrift"></i>
<span class=sr-only>Link zu Überschrift</span></a></h2><blockquote><p>mkfs.ext4 /dev/md0</p></blockquote><p>oder</p><blockquote><p>yes | mkfs.ext4 -L boot /dev/md0</p></blockquote><p>Swap:</p><blockquote><p>mkswap -f /dev/vg-name/swap</p></blockquote><h2 id=festplatten-verschlüsselung>Festplatten Verschlüsselung
<a class=heading-link href=#festplatten-verschl%c3%bcsselung><i class="fa fa-link" aria-hidden=true title="Link zu Überschrift"></i>
<span class=sr-only>Link zu Überschrift</span></a></h2><h3 id=verschlüsseln>verschlüsseln
<a class=heading-link href=#verschl%c3%bcsseln><i class="fa fa-link" aria-hidden=true title="Link zu Überschrift"></i>
<span class=sr-only>Link zu Überschrift</span></a></h3><blockquote><p>cryptsetup &ndash;batch-mode -c aes-cbc-essiv:sha256 -s 256 -y luksFormat /dev/nvme0n1p4</p></blockquote><h3 id=öffnen>öffnen
<a class=heading-link href=#%c3%b6ffnen><i class="fa fa-link" aria-hidden=true title="Link zu Überschrift"></i>
<span class=sr-only>Link zu Überschrift</span></a></h3><blockquote><p>cryptsetup luksOpen /dev/md1 crypt-root</p></blockquote><h2 id=festplatte-partitionieren>Festplatte Partitionieren
<a class=heading-link href=#festplatte-partitionieren><i class="fa fa-link" aria-hidden=true title="Link zu Überschrift"></i>
<span class=sr-only>Link zu Überschrift</span></a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=ln> 1</span><span class=cl><span class=k>for</span> i in <span class=s2>&#34;0&#34;</span> <span class=s2>&#34;1&#34;</span><span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>parted -a optimal /dev/nvme<span class=s2>&#34;</span><span class=nv>$i</span><span class=s2>&#34;</span>n1 --script <span class=se>\
</span></span></span><span class=line><span class=ln> 3</span><span class=cl><span class=se></span>unit s <span class=se>\
</span></span></span><span class=line><span class=ln> 4</span><span class=cl><span class=se></span>mklabel gpt <span class=se>\
</span></span></span><span class=line><span class=ln> 5</span><span class=cl><span class=se></span>mkpart esp <span class=m>2048</span> 128MB <span class=se>\
</span></span></span><span class=line><span class=ln> 6</span><span class=cl><span class=se></span>mkpart grub 128MB 2048MB <span class=se>\
</span></span></span><span class=line><span class=ln> 7</span><span class=cl><span class=se></span>mkpart raid 2048MB 50GB <span class=se>\
</span></span></span><span class=line><span class=ln> 8</span><span class=cl><span class=se></span>mkpart linux 50GB 100% <span class=se>\
</span></span></span><span class=line><span class=ln> 9</span><span class=cl><span class=se></span><span class=nb>set</span> <span class=m>1</span> esp on <span class=se>\
</span></span></span><span class=line><span class=ln>10</span><span class=cl><span class=se></span><span class=nb>set</span> <span class=m>2</span> raid on <span class=se>\
</span></span></span><span class=line><span class=ln>11</span><span class=cl><span class=se></span><span class=nb>set</span> <span class=m>3</span> raid on<span class=p>;</span>
</span></span><span class=line><span class=ln>12</span><span class=cl><span class=k>done</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>
</span></span><span class=line><span class=ln>14</span><span class=cl><span class=nb>set</span> <span class=m>2</span> bios_grub on <span class=se>\
</span></span></span><span class=line><span class=ln>15</span><span class=cl><span class=se></span><span class=nb>set</span> <span class=m>2</span> boot on <span class=se>\
</span></span></span></code></pre></div><h2 id=lvm>LVM
<a class=heading-link href=#lvm><i class="fa fa-link" aria-hidden=true title="Link zu Überschrift"></i>
<span class=sr-only>Link zu Überschrift</span></a></h2><h3 id=gerät-hinzufügen>Gerät hinzufügen
<a class=heading-link href=#ger%c3%a4t-hinzuf%c3%bcgen><i class="fa fa-link" aria-hidden=true title="Link zu Überschrift"></i>
<span class=sr-only>Link zu Überschrift</span></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=ln>1</span><span class=cl>pvcreate /dev/mapper/crypt-root
</span></span><span class=line><span class=ln>2</span><span class=cl>vgcreate vg-name /dev/mapper/crypt-root
</span></span><span class=line><span class=ln>3</span><span class=cl>
</span></span><span class=line><span class=ln>4</span><span class=cl>lvcreate -n root -L 4G vg-name
</span></span><span class=line><span class=ln>5</span><span class=cl>lvcreate -n var-log -l100%FREE vg-name
</span></span></code></pre></div><h3 id=lvm-vergrößern>LVM vergrößern
<a class=heading-link href=#lvm-vergr%c3%b6%c3%9fern><i class="fa fa-link" aria-hidden=true title="Link zu Überschrift"></i>
<span class=sr-only>Link zu Überschrift</span></a></h3><p><a href=https://www.thomas-krenn.com/de/wiki/LVM_vergr%c3%b6%c3%9fern class=external-link target=_blank rel=noopener>Link</a></p><h2 id=backup>Backup
<a class=heading-link href=#backup><i class="fa fa-link" aria-hidden=true title="Link zu Überschrift"></i>
<span class=sr-only>Link zu Überschrift</span></a></h2><p><a href=https://wiki.hetzner.de/index.php/BorgBackup class=external-link target=_blank rel=noopener>BorgBackup bei Hetzner</a></p><h2 id=git>Git
<a class=heading-link href=#git><i class="fa fa-link" aria-hidden=true title="Link zu Überschrift"></i>
<span class=sr-only>Link zu Überschrift</span></a></h2><p>Alle Repos mit Zugriff auf den lokalen Rechner clonen</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=ln>1</span><span class=cl>tea login add
</span></span><span class=line><span class=ln>2</span><span class=cl><span class=k>for</span> i in <span class=k>$(</span>tea repos ls --fields ssh -o simple -l www.casa-due-pur.de -T <span class=nb>source</span><span class=k>)</span><span class=p>;</span> <span class=k>do</span> git clone <span class=nv>$i</span><span class=p>;</span> <span class=k>done</span>
</span></span></code></pre></div></article></section></div><footer class=footer><section class=container>©
2003 -
2025
Fabrice Kirchner
·
Gestaltet mit <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/ target=_blank rel=noopener>Coder</a>.
[<a href=https://git.zyria.de/pyrox/zyria_de/commit/c7038db61e07958bc411c2b0529944503314b1b7 target=_blank rel=noopener>c7038db</a>]</section><section class=container><details><summary>Funktionsleiste</summary><div class="td-page-meta ms-2 pb-1 pt-2 mb-0"><a href=https://git.zyria.de/pyrox/zyria_de/src/branch/main/content/docs/it-intern/sammelbecken/snippets.md class="td-page-meta--view td-page-meta__view" target=_blank rel=noopener><i class="fa-solid fa-file-lines fa-fw"></i> Quellcode dieser Seite ansehen</a>
<a href=https://git.zyria.de/pyrox/zyria_de/_edit/main/content/docs/it-intern/sammelbecken/snippets.md class="td-page-meta--edit td-page-meta__edit" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Diese Seite bearbeiten</a>
<a href="https://git.zyria.de/pyrox/zyria_de/_new/main/content/docs/it-intern/sammelbecken?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class="td-page-meta--child td-page-meta__child" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Unterseite anlegen</a>
<a href="https://git.zyria.de/pyrox/zyria_de/issues/new?title=" class="td-page-meta--issue td-page-meta__issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Problem zu dieser Seite melden</a>
<a href=https://git.zyria.de/pyrox/zyria_de.git/issues/new class="td-page-meta--project td-page-meta__project-issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Problem melden</a></div></details></section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script><script src=/js/index.f2979a93a325fecf9605263bd141398a311c8e23388ed7dcff74f92f7e632866.js integrity="sha256-8peak6Ml/s+WBSY70UE5ijEcjiM4jtfc/3T5L35jKGY=" defer></script></body></html>